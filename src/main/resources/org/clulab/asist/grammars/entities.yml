vars: org/clulab/asist/grammars/vars.yml

rules:
  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: fire
      priority: ${ rulepriority }
      label: Fire
      trigger: ${ fire_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: infrastructure
      priority: ${ rulepriority }
      label: Infrastructure
      trigger: ${ infrastructure_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: foe
      priority: ${ rulepriority }
      label: Foe
      trigger: ${ foe_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: deictic
      priority: ${ rulepriority }
      label: Deictic
      trigger: ${ deixis_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: person
      priority: ${ rulepriority }
      label: Victim
      trigger: ${ person_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: rubble
      priority: ${ rulepriority }
      label: Rubble
      trigger: ${ rubble_triggers }

  - name: self_token_capture
    label: Self
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ self_triggers })/ & tag=/PRP/]

  - name: you_token_capture
    label: You
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ you_triggers })/ & tag=/PRP/]

  - name: we_token_capture
    label: Team
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ team_triggers })/ & tag=/PRP/]

  - name: green
    label: Green
    priority: ${ rulepriority }
    type: token
    keep: false
    pattern: |
      [lemma=/(?i)^(green)/]

  - name: yellow
    label: Yellow
    priority: ${ rulepriority }
    type: token
    keep: false
    pattern: |
      [lemma=/(?i)^(yellow)/]

  - name: ask_question
    label: Question
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [tag=/^W/]

  - name: agree_token_match
    label: Agreement
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ agree_triggers })$/]

  - name: disagree_token_match
    label: Disagreement
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ disagree_triggers })$/ & !tag=TO]

### add a tag so we dont parse "na" from "gonna"
  - name: demonstrative_pronoun
    priority: ${ rulepriority }
    label: DemPron
    type: token
    keep: false
    pattern: |
      [word=/${ dem_pron_triggers }/]

  - name: hammer
    priority: ${ rulepriority }
    label: Hammer
    type: token
    keep: true
    pattern: |
      [lemma=/${ hammer_triggers }/]

  - name: medkit
    priority: ${ rulepriority }
    label: MedKit
    type: token
    keep: true
    pattern: |
      [lemma=/${ medkit_triggers }/]

  - name: stretcher
    priority: ${ rulepriority }
    label: Stretcher
    type: token
    keep: true
    pattern: |
      [lemma=/${ stretcher_triggers }/]

  - name: searcher
    priority: ${ rulepriority }
    label: Searcher
    type: token
    keep: true
    pattern: |
      [word=/(?i)(${ search_spec_triggers })/] [word=/(?i)(${ specialist_triggers })/]?

  - name: medic
    priority: ${ rulepriority }
    label: Medic
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)${ medic_triggers }/] [word=/(?i)(${ specialist_triggers })/]?

  - name: engineer
    priority: ${ rulepriority }
    label: Engineer
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)${ engineer_triggers }/] [word=/(?i)(${ specialist_triggers })/]?

  - name: alpha
    priority: ${ rulepriority }
    label: Alpha
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)(${ alpha_triggers })/]

  - name: bravo
    priority: ${ rulepriority }
    label: Bravo
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)(${ bravo_triggers })/]

  - name: delta
    priority: ${ rulepriority }
    label: Delta
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)(${ delta_triggers })/]

  - name: charlie
    priority: ${ rulepriority }
    label: Charlie
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)(${ charlie_triggers })/]

  - name: switch
    priority: ${ rulepriority }
    label: Switch
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)(${ switch_triggers })/ & tag=/^N/]
