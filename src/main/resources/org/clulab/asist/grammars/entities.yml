vars: org/clulab/asist/grammars/vars.yml

rules:
  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: fire
      priority: ${ rulepriority }
      label: Fire
      trigger: ${ fire_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: infrastructure
      priority: ${ rulepriority }
      label: Infrastructure
      trigger: ${ infrastructure_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: foe
      priority: ${ rulepriority }
      label: Foe
      trigger: ${ foe_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: person
      priority: ${ rulepriority }
      label: Person
      trigger: ${ person_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: victim
      priority: ${ rulepriority }
      label: Victim
      trigger: ${ victim_triggers }

  - import: org/clulab/asist/grammars/ent_template.yml
    vars:
      name: rubble
      priority: ${ rulepriority }
      label: Rubble
      trigger: ${ rubble_triggers }

  - name: numbers
    priority: ${ rulepriority }
    label: Number
    type: token
    pattern: |
      [tag=CD]

  - name: deictic_detection
    priority: ${ rulepriority }
    label: Deictic
    type: token
    pattern: |
      [lemma=/(?i)^${ deixis_triggers }/] (?! [lemma=be]) # prevent "There is..."

  # minecraft door switch, e.g.
  - name: switch
    priority: ${ rulepriority }
    label: Switch
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)(${ switch_triggers })/ & tag=/^N/]

  - name: self_token_capture
    label: Self
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ self_triggers })/ & tag=/PRP/]

  - name: you_token_capture
    label: You
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ you_triggers })/ & tag=/PRP/]

  - name: we_token_capture
    label: Team
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ team_triggers })/ & tag=/PRP/]

  - name: green
    label: Green
    priority: ${ rulepriority }
    type: token
    keep: false
    pattern: |
      [lemma=/(?i)^(green)/]

  - name: yellow
    label: Yellow
    priority: ${ rulepriority }
    type: token
    keep: false
    pattern: |
      [lemma=/(?i)^(yellow)/]

  - name: question_particle
    label: QuestionParticle
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [tag=/^W/]

  - name: agree_token_match
    label: Agreement
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ agree_triggers })$/]

  - name: disagree_token_match
    label: Disagreement
    priority: ${ rulepriority }
    type: token
    keep: true
    pattern: |
      [lemma=/(?i)^(${ disagree_triggers })$/ & !tag=TO]

### add a tag so we dont parse "na" from "gonna"
  - name: demonstrative_pronoun
    priority: ${ rulepriority }
    label: DemPron
    type: token
    keep: false
    pattern: |
      [word=/${ dem_pron_triggers }/]
