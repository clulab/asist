vars: org/clulab/asist/grammars/vars.yml

rules:
  - import: org/clulab/asist/grammars/lvo_template.yml
    vars:
      name: close
      template_priority: ${ rulepriority }
      label: Close
      trigger: ${ close_triggers }
      object_type: Infrastructure

  - import: org/clulab/asist/grammars/lvo_template.yml
    vars:
      name: move
      template_priority: ${ rulepriority }
      label: Move
      trigger: ${ moveto_triggers }
      object_type: Location

  - import: org/clulab/asist/grammars/lvo_template.yml
    vars:
      name: toggle
      template_priority: ${ rulepriority }
      label: Toggle
      trigger: ${ toggle_triggers }
      object_type: Switch

#  - import: org/clulab/asist/grammars/lvo_template.yml
#    vars:
#      name: triage
#      template_priority: ${ rulepriority }
#      label: Save
#      trigger: ${ triage_triggers }
#      object_type: Concept

  - name: save_token_rule
    priority: ${ rulepriority }
    label: Save
    type: token
    pattern: |
      [lemma=/save|triage|heal|help|get|rescue/]

  - import: org/clulab/asist/grammars/lvo_template.yml
    vars:
      name: sight
      template_priority: ${ rulepriority }
      label: Sight
      trigger: ${ sight_triggers }
      object_type: EntityTypes

  - import: org/clulab/asist/grammars/lvo_template.yml
    vars:
      name: craft
      template_priority: ${ rulepriority }
      label: Craft
      trigger: ${ craft_triggers }
      object_type: Concept?

  - import: org/clulab/asist/grammars/lvo_template.yml
    vars:
      name: defeat
      template_priority: ${ rulepriority }
      label: Defeat
      trigger: ${ attack_triggers }
      object_type: Foe

  - import: org/clulab/asist/grammars/lvo_template.yml
    vars:
      name: search
      template_priority: ${ rulepriority }
      label: Search
      trigger: ${ search_triggers }
      object_type: Location

  - name: search_infra_action
    priority: ${ rulepriority }
    label: Search
    pattern: |
      trigger = [lemma=/${ search_triggers }/]
      area: Location = ${ search_relations }
      target: Concept? = >nmod_for

  - name: i_am_searching
    priority: ${ rulepriority }
    label: Search
    pattern: |
      trigger = [lemma=/(?i)^(${ search_triggers })/]
      person: Anaphor = >nsubj
      target: Concept? = >nmod_for

  - name: move_nmod_action
    priority: ${ rulepriority }
    label: Move
    pattern: |
      trigger = [lemma=/${ moveto_triggers }/]
      target: Location = >nmod_into | >nmod_to | >nmod_towards
#      person: Anaphor? = >nsubj

  - name: move_deixis_action
    priority: ${ rulepriority }
    label: Move
    pattern: |
      trigger = [lemma=/${ moveto_triggers }/]
      target: Deictic = >nmod_into | >nmod_to | >nmod_towards | >advmod
#      person: Anaphor? = >nsubj

  - name: continue_action
    priority: ${ rulepriority }
    label: Continue
    pattern: |
      trigger = [lemma=/(?i)^(${ continue_triggers })/]
      person: Anaphor = >nsubj

  - name: change_priority
    priority: ${ rulepriority }
    label: ChangePriority
    pattern: |
      trigger = [lemma=/(?i)^(${ change_priority_triggers })/]
      target: Victim = >dobj
      person: Anaphor? = >nsubj
